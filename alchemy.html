<!DOCTYPE html>
<html>
<head>
<title>Maralie's Alchemy Calculator</title>
<script type="text/JavaScript">
var reagents = [
	"Beetle Scuttle",
	"Blessed Thistle",
	"Blue Entoloma",
	"Bugloss",
	"Butterfly Wing",
	"Columbine",
	"Cornflower",
	"Dragonthorn",
	"Emetic Russula",
	"Fleshfly Larva",
	"Imp Stool",
	"Lady’s Smock",
	"Luminous Russula",
	"Mountain Flower",
	"Mudcrab Chitin",
	"Namira’s Rot",
	"Nightshade",
	"Nirnroot",
	"Scrib Jelly",
	"Spider Egg",
	"Stinkhorn",
	"Torchbug Thorax",
	"Violet Coprinus",
	"Water Hyacinth",
	"Whitecap",
	"Wormwood",
	];

var benefits = [
	"Detection",
	"Gradual Ravage Health",
	"Increase Armor",
	"Increase Damage Taken (vulnerability)",
	"Increase Healing Taken (vitality)",
	"Increase Spell Power",
	"Increase Spell Resist",
	"Increase Weapon Power",
	"Invisible",
	"Lingering Health",
	"Lower Critical Damage (enervation)",
	"Lower Critical Rating (uncertainty)",
	"Lower Spell Resist (breach)",
	"Ravage Health",
	"Ravage Magicka",
	"Ravage Stamina",
	"Ravage Ultimate (cowardice)",
	"Reduce Damage Dealt (maim)",
	"Reduce Damage Taken (protection)",
	"Reduce Healing Taken (defile)",
	"Reduce Physical Resist (fracture)",
	"Reduce Speed (hindrance)",
	"Restore Health",
	"Restore Magicka",
	"Restore Stamina",
	"Speed",
	"Spell Critical",
	"Stun (entrapment)",
	"Unstoppable",
	"Weapon Critical",
	];

var reagents_benefits = 	[
	["Beetle Scuttle", [
		"Lower Spell Resist (breach)",
		"Reduce Damage Taken (protection)",
		"Increase Armor",
		"Increase Healing Taken (vitality)",
		]],
	["Blessed Thistle", [
		"Restore Stamina",
		"Ravage Health",
		"Increase Weapon Power",
		"Speed",
		]],
	["Blue Entoloma", [
		"Ravage Magicka",
		"Restore Health",
		"Ravage Ultimate (cowardice)",
		"Invisible",
		]],
	["Bugloss", [
		"Increase Spell Resist",
		"Ravage Ultimate (cowardice)",
		"Restore Health",
		"Restore Magicka",
		]],
	["Butterfly Wing", [
		"Restore Health",
		"Lingering Health",
		"Lower Critical Rating (uncertainty)",
		"Increase Healing Taken (vitality)",
		]],
	["Columbine", [
		"Restore Health",
		"Restore Stamina",
		"Restore Magicka",
		"Unstoppable",
		]],
	["Cornflower", [
		"Restore Magicka",
		"Ravage Health",
		"Increase Spell Power",
		"Detection",
		]],
	["Dragonthorn", [
		"Increase Weapon Power",
		"Reduce Physical Resist (fracture)",
		"Restore Stamina",
		"Weapon Critical",
		]],
	["Emetic Russula", [
		"Ravage Health",
		"Ravage Stamina",
		"Ravage Magicka",
		"Stun (entrapment)",
		]],
	["Fleshfly Larva", [
		"Ravage Stamina",
		"Gradual Ravage Health",
		"Increase Damage Taken (vulnerability)",
		"Increase Healing Taken (vitality)",
		]],
	["Imp Stool", [
		"Reduce Damage Dealt (maim)",
		"Increase Armor",
		"Ravage Stamina",
		"Lower Critical Damage (enervation)",
		]],
	["Lady’s Smock", [
		"Increase Spell Power",
		"Lower Spell Resist (breach)",
		"Restore Magicka",
		"Spell Critical",
		]],
	["Luminous Russula", [
		"Ravage Stamina",
		"Restore Health",
		"Reduce Damage Dealt (maim)",
		"Reduce Speed (hindrance)",
		]],
	["Mountain Flower", [
		"Increase Armor",
		"Reduce Damage Dealt (maim)",
		"Restore Health",
		"Restore Stamina",
		]],
	["Mudcrab Chitin", [
		"Increase Spell Resist",
		"Reduce Damage Taken (protection)",
		"Increase Armor",
		"Reduce Healing Taken (defile)",
		]],
	["Namira’s Rot", [
		"Spell Critical",
		"Invisible",
		"Speed",
		"Unstoppable",
		]],
	["Nightshade", [
		"Ravage Health",
		"Gradual Ravage Health",
		"Reduce Damage Taken (protection)",
		"Reduce Healing Taken (defile)",
		]],
	["Nirnroot", [
		"Ravage Health",
		"Lower Critical Damage (enervation)",
		"Lower Critical Rating (uncertainty)",
		"Invisible",
		]],
	["Scrib Jelly", [
		"Ravage Magicka",
		"Increase Damage Taken (vulnerability)",
		"Speed",
		"Lingering Health",
		]],
	["Spider Egg", [
		"Reduce Speed (hindrance)",
		"Lingering Health",
		"Invisible",
		"Reduce Healing Taken (defile)",
		]],
	["Stinkhorn", [
		"Reduce Physical Resist (fracture)",
		"Increase Weapon Power",
		"Ravage Health",
		"Ravage Stamina",
		]],
	["Torchbug Thorax", [
		"Reduce Physical Resist (fracture)",
		"Detection",
		"Lower Critical Damage (enervation)",
		"Increase Healing Taken (vitality)",
		]],
	["Violet Coprinus", [
		"Lower Spell Resist (breach)",
		"Increase Spell Power",
		"Ravage Health",
		"Ravage Magicka",
		]],
	["Water Hyacinth", [
		"Restore Health",
		"Weapon Critical",
		"Spell Critical",
		"Stun (entrapment)",
		]],
	["Whitecap", [
		"Ravage Ultimate (cowardice)",
		"Increase Spell Resist",
		"Ravage Magicka",
		"Detection",
		]],
	["Wormwood", [
		"Weapon Critical",
		"Detection",
		"Reduce Speed (hindrance)",
		"Unstoppable",
		]],
	];

var benefits_reagents = [];

function produce_benefits_reagents_list() {
	benefits_reagents = [];
	for (var b_idx in benefits) {
		benefit_name = benefits[b_idx]
		benefits_reagents.push([benefit_name,[]]);
		}
	for (var rb_idx in reagents_benefits) {
		reagent_benefits = reagents_benefits[rb_idx];
		reagent_name = reagent_benefits[0];
		benefit_set = reagent_benefits[1];
		for (var idx in benefit_set) {
			benefit_name = benefit_set[idx];
			index = benefits.indexOf(benefit_name);
			benefits_reagents[index][1].push(reagent_name);
			}
		}
	return benefits_reagents;
	}

function collate_benefits() {
	checked_benefits = document.querySelectorAll('*[name="benefit"]:checked');
	collated = [];
	for (let benefit of checked_benefits.keys()) {
		collated.push(checked_benefits.item(benefit).value);
		}
	return collated;
	}

function populate_benefits_list() {
	benefits_listing = document.getElementById("benefits");
	benefits_listing.innerHTML = '';
	for (i in benefits) {
		benefit_item = '<input type="checkbox" name="benefit" value="' + benefits[i] + '">' + benefits[i] + "</input><br/>\n";
		benefits_listing.innerHTML += benefit_item;
		};
	return true;
	}
</script>
</head>
<body>
<div id="calculator-body">
<div id="benefits">
</div>
<button name="Clear" value="Clear" onClick="JavaScript:populate_benefits_list()">Clear</button>
<div id="reagents">
</div>
</div>
</body>
<script type="text/JavaScript">
populate_benefits_list();
</script>
</html>
